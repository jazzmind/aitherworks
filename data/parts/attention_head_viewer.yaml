id: attention_head_viewer
name: "Attention Head Viewer"
category: visualization
description: |
  Visualize self-attention as a heatmap for a selected layer and head.

visual:
  scene: "res://game/parts/attention_head_viewer.tscn"
  scale: [1.0, 1.0, 1.0]

simulation:
  type: transformer_attention_view
  inputs: 2
  outputs: 1
  parameters:
    layer: 0
    head: 0
    show_arcs: true

ports:
  in_north:
    type: "attention_weights"
    direction: "input"  # [L,H,S,S] packed/normalized
  in_east:
    type: "vector"
    direction: "input"  # [S] tokens (strings)
  out_south:
    type: "vector"
    direction: "output"  # selected_span [start,end]