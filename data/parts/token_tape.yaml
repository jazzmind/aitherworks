id: token_tape
name: "Token Tape"
category: visualization
description: |
  Displays input/output tokens, subwords, and selection state across steps.

visual:
  scene: "res://game/parts/token_tape.tscn"
  scale: [1.0, 1.0, 1.0]

simulation:
  type: transformer_token_tape
  inputs: 2
  outputs: 2
  parameters:
    show_probabilities: true

ports:
  in_north:
    type: "vector"
    direction: "input"  # [S] tokens (strings)
  in_east:
    type: "vector"
    direction: "input"  # top-k distribution (next_token_probs)
  out_south:
    type: "scalar"
    direction: "output"  # selected_token_idx (int)
  out_west:
    type: "vector"
    direction: "output"  # span_selection [start,end]